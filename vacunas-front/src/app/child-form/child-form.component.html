<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-6 text-jade-800">Agregar Niño</h1>

  <form
    (ngSubmit)="createChild()"
    class="mb-4 p-4 border rounded-lg shadow-lg bg-jade-50"
  >
    <h2 class="text-lg font-semibold mb-4 text-jade-700">Formulario de Niño</h2>

    <div class="flex flex-col mb-4">
      <label for="name" class="font-medium text-jade-700">Nombre:</label>
      <input
        type="text"
        id="name"
        [(ngModel)]="newChild.name"
        name="name"
        required
        class="border p-2 rounded-md border-jade-300"
      />
    </div>
    <div class="flex flex-col mb-4">
      <label for="age" class="font-medium text-jade-700">Edad:</label>
      <input
        type="number"
        id="age"
        [(ngModel)]="newChild.age"
        name="age"
        required
        class="border p-2 rounded-md border-jade-300"
      />
    </div>
    <div class="flex flex-col mb-4">
      <label for="identificationNumber" class="font-medium text-jade-700"
        >Número de Identificación:</label
      >
      <input
        type="text"
        id="identificationNumber"
        [(ngModel)]="newChild.identificationNumber"
        name="identificationNumber"
        required
        minlength="5"
        maxlength="15"
        class="border p-2 rounded-md border-jade-300"
      />
    </div>
    <div class="flex flex-col mb-4">
      <label for="gender" class="font-medium text-jade-700">Género:</label>
      <select
        id="gender"
        [(ngModel)]="newChild.gender"
        name="gender"
        required
        class="border p-2 rounded-md border-jade-300"
      >
        <option value="" disabled selected>Selecciona un género</option>
        <option value="masculino">Masculino</option>
        <option value="femenino">Femenino</option>
      </select>
    </div>
    <div class="flex flex-col mb-4">
      <label for="birthDate" class="font-medium text-jade-700"
        >Fecha de Nacimiento:</label
      >
      <input
        type="date"
        id="birthDate"
        [(ngModel)]="newChild.birthDate"
        name="birthDate"
        required
        class="border p-2 rounded-md border-jade-300"
      />
    </div>

    <div class="flex flex-col mb-4">
      <label for="department" class="font-medium text-jade-700">Departamento:</label>
      <select
        id="department"
        [(ngModel)]="selectedDepartment"
        (change)="onDepartmentChange($event)"
        name="department"
        required
        class="border p-2 rounded-md border-jade-300"
      >
        <option value="">Seleccione un departamento</option>
        <option *ngFor="let department of departments" [value]="department.id">
          {{ department.name }}
        </option>
      </select>
    </div>
    <div class="flex flex-col mb-4">
      <label for="municipality" class="font-medium text-jade-700">Municipio:</label>
      <select
        id="municipality"
        [(ngModel)]="newChild.municipalityId"
        name="municipality"
        required
        class="border p-2 rounded-md border-jade-300"
        [disabled]="!selectedDepartment"
      >
        <option value="">Seleccione un municipio</option>
        <option *ngFor="let municipality of municipalities" [value]="municipality.id">
          {{ municipality.name }}
        </option>
      </select>
    </div>

    <button
      type="submit"
      class="btn bg-jade-500 text-white hover:bg-jade-600 transition duration-200 p-3 rounded-[10px] shadow-md"
    >
      Agregar Niño
    </button>
    <div *ngIf="showModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
      <div class="bg-jade-800 p-6 rounded-lg border-5 border-jade-600 shadow-lg max-w-md w-full">
        <h2 class="text-2xl font-bold mb-4 text-white">Niño Creado Exitosamente</h2>
        <p class="text-white mb-2">Nombre: {{ createdChild.name }}</p>
        <p class="text-white mb-2">Identificación: {{ createdChild.identificationNumber }}</p>
        <p class="text-white mb-2">Edad: {{ createdChild.age }}</p>
        <p class="text-white mb-2">Fecha de Nacimiento: {{ createdChild.birthDate | date:'dd/MM/yyyy' }}</p>
        <button 
          (click)="closeModal()"
          class="mt-4 bg-white text-jade-500 px-4 py-2 rounded hover:bg-jade-100 transition duration-200"
        >
          Cerrar
        </button>
      </div>
    </div>
  </form>
  
</div>